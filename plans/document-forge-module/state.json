{
  "$schema": "state-v2",
  "plan_id": "document-forge-module",
  "iteration": 0,
  "summary": "Tasks 1-5 docs are implemented, including exact prompt-normalization and plan-mode compatibility rules. Next: task-6 README discoverability link.",
  "tasks": [
    {
      "id": "task-1",
      "status": "completed",
      "attempts": 0,
      "notes": "",
      "commit_sha": "c2ec8e0dc1087ef94b5dc27ebae60e1d8506f3e7",
      "phases": [
        {
          "id": "implementation",
          "status": "completed",
          "attempts": 0,
          "notes": ""
        }
      ]
    },
    {
      "id": "task-2",
      "status": "completed",
      "attempts": 0,
      "notes": "",
      "commit_sha": "8d78d5c47c929ebb5394b75d27d996a621b292b3",
      "phases": [
        {
          "id": "implementation",
          "status": "completed",
          "attempts": 0,
          "notes": ""
        }
      ]
    },
    {
      "id": "task-3",
      "status": "completed",
      "attempts": 1,
      "notes": "Expanded docs/forge.md with bundled template layout (`src-tauri/resources/forge/templates/<template-id>/`), `template.json` manifest field meanings (schema/id/title/version/files/entrypoints including planPrompt/executePrompt/planSchema/stateSchema/requiredSkills/hooks), install outputs (`.agent/templates/<id>/*`, `.agent/template-lock.json` with `forge-template-lock-v1`, `.agent/skills/*`), best-effort bridge sync to `.agents/skills/*` with non-overwrite behavior, `.git/info/exclude` `.agent/` rationale, and uninstall removals/non-removals.",
      "commit_sha": "26c86ee9841839b4814acc868f606d99d65935c7",
      "phases": [
        {
          "id": "implementation",
          "status": "completed",
          "attempts": 1,
          "notes": "Documentation-only update in docs/forge.md covering template manifest contract and workspace artifacts for install/uninstall, including skill sync bridge and git exclude behavior."
        }
      ]
    },
    {
      "id": "task-4",
      "status": "completed",
      "attempts": 1,
      "notes": "Added a new `forge_list_plans` documentation section in docs/forge.md covering plan-v1 discovery/filtering, state resolver candidate order (`state.json`, `<stem>.state.json`, `plans/<planId>.state.json`, `plans/<planId>/state.json`), concrete path examples, status join/default `pending`, and `currentTaskId` being `null` in current core output.",
      "commit_sha": "6d4834e313d3fe96a5ed7c6662529637aba8ee18",
      "phases": [
        {
          "id": "implementation",
          "status": "completed",
          "attempts": 1,
          "notes": "Documented Forge plan/state conventions in docs/forge.md from forge_plans_core.rs source-of-truth, including legacy phase-format rejection and surfaced ForgeWorkspacePlanV1 fields."
        }
      ]
    },
    {
      "id": "task-5",
      "status": "in_progress",
      "attempts": 1,
      "notes": "Updated docs/forge.md to document `normalize_plan_prompt` with exact literal before/after rewrites: `.agent/skills/` to `.agents/skills/`, `plans/<plan_id>.json`/`plans/<plan-id>.json` to nested `plan.json` paths, legacy `## Output` file-write prompt rewrite into `<proposed_plan>` plan-mode instructions, and `@plan` prefix enforcement.",
      "commit_sha": null,
      "phases": [
        {
          "id": "implementation",
          "status": "completed",
          "attempts": 1,
          "notes": "Added prompt-normalization bullets in docs/forge.md with exact strings from `src-tauri/src/shared/forge_templates_core.rs::normalize_plan_prompt`, including legacy plan-collaboration rewrite triggers and required replacement lines."
        }
      ]
    },
    {
      "id": "task-6",
      "status": "pending",
      "attempts": 0,
      "notes": "",
      "commit_sha": null,
      "phases": [
        {
          "id": "implementation",
          "status": "pending",
          "attempts": 0,
          "notes": ""
        }
      ]
    }
  ]
}
